export_to_autofab_variables = {
	export_resource_income_to_variable = { resource = energy variable = autofab_energy_tracking }
	export_resource_income_to_variable = { resource = minerals variable = autofab_minerals_tracking }
	export_resource_income_to_variable = { resource = food variable = autofab_food_tracking }
	export_resource_income_to_variable = { resource = consumer_goods variable = autofab_consumer_goods_tracking }
	export_resource_income_to_variable = { resource = volatile_motes variable = autofab_volatile_motes_tracking }
	export_resource_income_to_variable = { resource = exotic_gases variable = autofab_exotic_gases_tracking }
	export_resource_income_to_variable = { resource = rare_crystals variable = autofab_rare_crystals_tracking }
	
	
	set_variable = { which = autofab_energy_ratio value = autofab_energy_tracking }
	set_variable = { which = autofab_minerals_ratio value = autofab_minerals_tracking }
	set_variable = { which = autofab_food_ratio value = autofab_food_tracking }
	set_variable = { which = autofab_consumer_goods_ratio value = autofab_consumer_goods_tracking }
	set_variable = { which = autofab_volatile_motes_ratio value = autofab_volatile_motes_tracking }
	set_variable = { which = autofab_exotic_gases_ratio value = autofab_exotic_gases_tracking }
	set_variable = { which = autofab_rare_crystals_ratio value = autofab_rare_crystals_tracking }
}

country_resources_ratio_calc = {
	country_energy_check = yes
	country_minerals_check = yes
	country_food_check = yes
	country_consumer_goods_check = yes
	country_motes_check = yes
	country_gases_check = yes
	country_crystals_check = yes
}

country_energy_check = {
	divide_variable = { which = autofab_energy_ratio value = autofab_planet_count }
}
country_minerals_check = {
	divide_variable = { which = autofab_minerals_ratio value = autofab_planet_count }
}
country_food_check = {
	divide_variable = { which = autofab_food_ratio value = autofab_planet_count }
}
country_consumer_goods_check = {
	divide_variable = { which = autofab_consumer_goods_ratio value = autofab_planet_count }
}
country_motes_check = {
	divide_variable = { which = autofab_volatile_motes_ratio value = autofab_planet_count }
}
country_gases_check = {
	divide_variable = { which = autofab_exotic_gases_ratio value = autofab_planet_count }
}
country_crystals_check = {
	divide_variable = { which = autofab_rare_crystals_ratio value = autofab_planet_count }
}